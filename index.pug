- var STRINGS = 6;
- var FRETS = 22;

doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible' content='IE=edge')
    meta(name='viewport' content='width=device-width, initial-scale=1')

    link(rel='stylesheet' type='text/css' href='./app.css')
    script(type='text/javascript' src='https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js')
    script(type='text/javascript' src='./tonal.min.js')
    script(type='text/javascript' src='./sprintf.js')
    script(type='text/javascript' src='./__javascript__/app.js')
  body
    pre
      #app
        h3 Scale
        #scaleSelector
          table
            tr(v-for="noteScale in ZIP_NOTES_SCALES")
              //- Notes in column 1
              td.selectable(v-if="noteScale[0]"
                  v-bind:class="{ selected: scale.root.note == noteScale[0]}"
                  v-on:click="scale.setRoot(noteScale[0]); fretboard.showScale(scale)"
              ) {{ noteScale[0] }}
              td(v-else)
              //- Scales in column 2
              td.selectable(v-if="noteScale[1]"
                  v-bind:class="{ selected: scale.scale == noteScale[1]}"
                  v-on:click="scale.setScale(noteScale[1]); fretboard.showScale(scale)"
              ) {{ noteScale[1] }}
              td(v-else)

        br
        br

        h3 Notes
        #scale
          table
            tr
              td.selectable(
                  v-for="note in scale.all_notes"
                  v-bind:class="{ selected: note.selected, }"
              ) {{ note.note }}
            tr
              td.selectable(
                  v-for="note in scale.all_notes"
                  v-bind:class="{ selected: note.selected, }"
              ) {{ note.intervalToTonic }}

        br
        br

        //- TODO: convert to table and vue iteration
        h3 Fretboard viz
        #fretboard
          span#fret-indicator   -                        3              5               7              9                      12                     15             17             19
          br
          - var string = 0;
          while string < STRINGS
            div.string
              - var fret = 0;
              while fret < FRETS
                span.note(v-bind:class="{ " +
                    "show: fretboard.frets[" + string + "][" + fret + "].note.selected, " +
                    "root: fretboard.frets[" + string + "][" + fret + "].note.intervalToTonic == '1P', " +
                    "fretmarker: fretboard.frets[" + string + "][" + fret + "].marker, " +
                    "}"
                ) {{ fretboard.frets[#{string}][#{fret}].fretStr }}
                if fret == 0
                  span.fret.bold ｜｜
                else
                  span.fret ｜
                - fret++;
            - string++;
